# Less30. Фильтрация трафика - iptables
- [Less30. Фильтрация трафика - iptables](#less30-фильтрация-трафика---iptables)
    - [Цель:](#цель)
    - [Содержание:](#содержание)
    - [Результаты:](#результаты)
    - [Компетенции](#компетенции)
    - [Задание:](#задание)
    - [Формат сдачи:](#формат-сдачи)
    - [Критерии оценки:](#критерии-оценки)
    - [Комментарии к выполнению задания:](#комментарии-к-выполнению-задания)
    - [Links:](#links)

### Цель: 
- понимать путь прохождения пакетов;
- настраивать базовые правила фильтрации;
- настраивать наборы правил через ipset;
  
### Содержание:
- подсистема netfilter;
- цепочки и таблицы;
- синтаксис iptables;
- использование IPset
 
### Результаты:
- настроенный сетевой фильтр
### Компетенции

Работа с сетевой подсистемой
- обеспечивать сетевую безопасность
- 
### Задание:

Написать сценарии iptables.
Что нужно сделать?

- реализовать knocking port
- centralRouter может попасть на ssh inetrRouter через knock скрипт (пример в материалах.)
- добавить inetRouter2, который виден(маршрутизируется (host-only тип сети для виртуалки)) с хоста или форвардится порт через локалхост.
- запустить nginx на centralServer.
- пробросить 80й порт на inetRouter2 8080.
- дефолт в инет оставить через inetRouter.

Реализовать проход на 80й порт без маскарадинга*

### Формат сдачи: 
Формат сдачи ДЗ - vagrant + ansible


### Критерии оценки:
Статус "Принято" ставится при выполнении всех основных условий.

Задание со звездочкой выполняется по желанию.

### Комментарии к выполнению задания:


### Links:

- [https://wiki.archlinux.org/title/Port_knocking](https://wiki.archlinux.org/title/Port_knocking)
- [Еще несколько слов о Path MTU Discovery Black Hole](https://habr.com/ru/articles/136871/)
- [Блокировать ли ICMP трафик? Вопрос безопасности](https://14bytes.ru/blokirovat-li-icmp-trafik-bezopasno-li/)
- 
