# Less19. Docker. Основы работы с контейнеризацией
- [Less19. Docker. Основы работы с контейнеризацией](#less19-docker-основы-работы-с-контейнеризацией)
    - [Цель:](#цель)
    - [Содержание](#содержание)
    - [Задание:](#задание)
    - [Критерии оценки:](#критерии-оценки)
    - [Компетенции:](#компетенции)
    - [Комментарии к выполнению задания:](#комментарии-к-выполнению-задания)
    - [Links:](#links)

### Цель: 
- изучить основные понятия контейнеризации;
- написать Dockerfile;
- запустить контейнер;
- запустить docker-compose;

- Разобраться с основами docker, с образом, эко системой docker в целом;

### Содержание
- контейнеризация;
- виртуализация;
- docker;
- docker-compose;

### Задание:
  1. Установите Docker на хост машину
https://docs.docker.com/engine/install/ubuntu/
  2. Установите Docker Compose - как плагин, или как отдельное приложение
  3. Создайте свой кастомный образ nginx на базе alpine. После запуска nginx должен отдавать кастомную страницу (достаточно изменить дефолтную страницу nginx)
  4. Определите разницу между контейнером и образом
  5. Вывод опишите в домашнем задании.
  6. Ответьте на вопрос: Можно ли в контейнере собрать ядро?

Собранный образ необходимо запушить в docker hub и дать ссылку на ваш репозиторий.

*** Задание со звездочкой
  1. Написать Docker-compose для приложения Redmine, с использованием опции build.
  2. Добавить в базовый образ redmine любую кастомную тему оформления.
  3. Убедиться что после сборки новая тема доступна в настройках.
  4. Настроить вольюмы, для сохранения всей необходимой информации

Работа должна быть сдана как репозиторий на github в котором будет docker-compose файл и все необходимые для него зависимости.

> Как установить тему для Redmine 
> https://www.redmine.org/projects/redmine/wiki/themes
> Пример темы для Redmine https://github.com/farend/redmine_theme_farend_bleuclair#demo

### Критерии оценки:

  1. Создан свой кастомный образ nginx на базе alpine. После запуска nginx должен отдавать кастомную страницу (достаточно изменить дефолтную страницу nginx).
  2. Определена разница между контейнером и образом, написан вывод.
  3. Написан ответ на вопрос: Можно ли в контейнере собрать ядро?
  4. Собранный образ запушин в docker hub и дана ссылку на репозиторий.


### Компетенции:
Изоляция, виртуализация процессов
- работать с Docker: создание образов, запуск контейнеров
- использование docker-compose

### Комментарии к выполнению задания:

3. Создан образ nginx на базе alpine. 
   - Выполнение команд в файле [typescript](./files/typescript)
   - Файл [Dockerfile](./files/Dockerfile)
   - Файл стартовой страницы nginx [index.html](./files/index.html)
   - Контейнер выгружен в docker-репозиторий [octopuspost/octopus-post:nginx_stable-alpine3.17](https://hub.docker.com/repository/docker/octopuspost/octopus-post/general)
4. Основные отличия контейнеризации от виртуализации:
    
    |Контейнеры                       |Виртуальные машины|
    |---|---|
    |Занимают меньше ресурсов         | Требуется больше ресурсов хостовой машины|
    |Используется ОС хоста            | Гостевая ОС в каждой ВМ|
    |Изолированность на уровне логики | Полная изолированность |
    |Портативность                    | Требует значительного времени для разворачивания ВМ|
    |Легкость и быстрота установки и запуска||
    |Не требуют эмуляции аппаратного обеспечения||
6. Можно ли в контейнере собрать ядро?
   Скорее всего можно. Но запустить его не получится, так как в контейнере все системные вызовы передаются ядру хоста.

### Links:

[Docker образ](https://docs.docker.com/engine/install/ubuntu/)

[Сборка NGINX из исходников](http://nginx.org/en/docs/configure.html)

Дополнительно:
- [https://docs.docker.com/build/building/base-images/](https://docs.docker.com/build/building/base-images/)
- [https://podman.io/](https://podman.io/)
- [https://www.portainer.io/](https://www.portainer.io/)
- [https://docs.ansible.com/ansible/latest/collections/community/docker/index.html](https://docs.ansible.com/ansible/latest/collections/community/docker/index.html)
- [https://wiki.astralinux.ru/pages/viewpage.action?pageId=121537886](https://wiki.astralinux.ru/pages/viewpage.action?pageId=121537886)
